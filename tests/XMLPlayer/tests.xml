<?xml version="1.0" encoding="utf-8"?>
<TestScenario>
    <RunList after_run_pause="5000">
        <item after_run_pause="0" chdir="../../Utils/SharedMemory/" ignore_run_failed="1" ignore_terminated="1"
              name="SharedMemory" script="./start_fg.sh" silent_mode="1"/>
        <item after_run_pause="0" chdir="../../Utils/SharedMemory/" ignore_run_failed="1" ignore_terminated="1"
              name="SharedMemory2" script="./start2_fg.sh" silent_mode="0"/>
    </RunList>
    <TestList logfile="" logfile_trunc="1" replace="MyGlobalVar2:104,MyGlobalVar:101">
        <test name="simple test">
            <check test="101@3001=0"/>
        </test>
        <test ignore_failed="1" name="Test global replace">
            <check file="test4_replace.xml" link="num=3" replace="RESFILE:global.replace.test.txt" test="outlink"/>
        </test>

        <test name="Other dir outlink" num="6">
            <check ignore="1" file="testdir/test-outlink-otherdir.xml" link="ALL" test="outlink"/>
            <check file="testdir/test-outlink-otherdir.xml" link="ALL" test="outlink"/>
        </test>

        <!--
    <test name="ignore test" ignore="1">
        <check test="outlink" file="test3.xml" link="ALL"/>
    </test>
-->
        <test name="ignore runlist test">
            <check file="test_failedrun.xml" ignore_runlist="1" link="ALL" test="outlink"/>
        </test>
        <test ignore_failed="1" name="Test outlink:ALL (replace)" replace="MyTestVar:102">
            <check file="test5_replace.xml" link="num=52" replace="MyName:104,MyVal:10,LNK:num=51" test="outlink"/>
        </test>
        <test ignore_failed="1" name="Test N1" num="0">
            <action set="101@LocalhostNode=0"/>
            <check check_pause="500" test="101=0" timeout="15000"/>
            <check test="101@LocalhostNode=0"/>
            <action set="101@3001=1"/>
            <check test="101@3001!=0"/>
            <check check_pause="100" test="101=5" timeout="1000"/>
            <check test="Test_DI!=0"/>
            <action set="101=0"/>
            <check test="control_reg_status_cold_air_case1_gen1=0"/>
            <action set="control_reg_status_cold_air_case1_gen1=-1"/>
            <check test="control_reg_status_cold_air_case1_gen1=-1"/>
            <check test="Test_DI=0"/>
            <check link="name=Test N3" test="link"/>
            <action set="101 =0"/>
            <check test="101=0"/>
            <action set="101=1"/>
            <check test="101!=0"/>
            <check file="test2.xml" link="num=1" test="outlink"/>
            <check test="101=0"/>
            <action set="101=1"/>
        </test>
        <test ignore_failed="1" name="HOLD test">
            <action set="104=20"/>
            <check check_pause="500" test="104=20" holdtime="4000"/>
            <check check_pause="500" test="104<=20" holdtime="4000"/>
            <check check_pause="500" test="104>=20" holdtime="4000"/>
            <check check_pause="500" test="104>20" holdtime="4000"/>
            <check check_pause="500" test="104<20" holdtime="4000"/>
            <check check_pause="500" test="104!=20" holdtime="4000"/>
        </test>
 
        <test name="link ignore test">
            <check file="test3.xml" link="num=3" test="outlink"/>
        </test>
        <test ignore_failed="1" name="Test outlink:ALL">
            <check file="test3.xml" link="ALL" test="outlink"/>
        </test>
        <test ignore_failed="1" name="Test outlink:ALL (replace)" replace="MyTestVar:102">
            <check file="test4_replace.xml" link="ALL"
                   replace="MyName1:101,MyName2:101,ACT:set,TEST:false,REPLACE_NAME:test,RESFILE:replace.txt"
                   test="outlink"/>
            <check file="test5_replace.xml" link="num=52" replace="MyName:104,MyVal:10,LNK:num=51" test="outlink"/>
        </test>
        <test name="Other configures test" num="6">
            <check file="test6_configures.xml" link="ALL" test="outlink"/>
        </test>
        <test ignore_failed="1" name="Test 'great'" tname="great">
            <action set="109=10"/>
            <check test="109>=5"/>
            <check test="109>=10"/>
        </test>
        <test ignore_failed="1" name="Test 'less'" tname="less">
            <action set="109=10"/>
            <check test="109<=11"/>
            <check test="109<=10"/>
        </test>
        <test ignore_failed="1" name="Test fail 'less' and 'great'">
            <action set="109=10"/>
            <check test="109>=110"/>
            <check test="109<=4"/>
        </test>
        <test ignore_failed="1" name="Test N2">
            <check id="101=0,100=1,109@LocalHostNode=10" test="multicheck"/>
            <action set="100=0" reset_time="300" rval="1"/>
            <action ignore="1" msleep="500"/>
            <action msleep="1000"/>
            <check check_pause="1000" test="Test_DI=1" timeout="19"/>
            <action set="101=0"/>
            <check test="109=10"/>
            <action set="101=0" reset_time="300" rval="1"/>
            <action msleep="1000"/>
            <action set="101=1,102=0,103=12"/>
        </test>
        <test ignore_failed="1" logfile="test2_result.txt" logfile_trunc="1" name="Test N3">
            <check test="101=0"/>
            <check test="101!=0"/>
            <action msleep="1000"/>
            <check test="101=0"/>
        </test>
        <test name="Test N4" lname="t4">
            <action set="104=0" reset_time="300" rval="1"/>
            <check test="101=0"/>
            <check test="101!=0"/>
            <action msleep="1000"/>
            <check test="101=0"/>
        </test>
        <test name="Test N5 (fail test)" lname="t5">
            <check test="101wedwe=0"/>
        </test>
    </TestList>
</TestScenario>
